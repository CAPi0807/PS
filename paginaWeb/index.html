<html lang="es">

<!DOCTYPE html>

<head>
    <meta charset="utf-8">
    <meta name="description" content="This is an HTML5 example">
    <meta name="keywords" content="HTML5, CSS3, JavaScript">
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

    <script src="/PS/paginaWeb/xlu-include-file.js"></script>
    <script src="/PS/API/main.js"></script>

    <link href="style.css" rel="stylesheet">
    <title>Calculator</title>

</head>
<body>
    <header xlu-include-file="/PS/paginaWeb/header/header.html">

    </header>
    <main xlu-include-file="/PS/paginaWeb/main_calculadora.html">

    </main>
    <footer>
        <p>Designed by: PS-Group 7</p>
    </footer>

    <script>

        const keyMappings = {
                48: "0",
                49: "1",
                50: "2",
                51: "3",
                52: "4",
                53: "5",
                54: "6",
                55: "7",
                56: "8",
                57: "9",
                96: "0", // Código de tecla para teclado numérico 0
                97: "1", // Código de tecla para teclado numérico 1
                98: "2", // Código de tecla para teclado numérico 2
                99: "3", // Código de tecla para teclado numérico 3
                100: "4", // Código de tecla para teclado numérico 4
                101: "5", // Código de tecla para teclado numérico 5
                102: "6", // Código de tecla para teclado numérico 6
                103: "7", // Código de tecla para teclado numérico 7
                104: "8", // Código de tecla para teclado numérico 8
                105: "9", // Código de tecla para teclado numérico 9
                107: "+", // Código de tecla para suma (+) en teclado numérico
                109: "-", // Código de tecla para resta (-) en teclado numérico
                106: "*", // Código de tecla para multiplicación (*) en teclado numérico
                111: "/", // Código de tecla para división (/) en teclado numérico
            };

            // Agregar evento de teclado para el teclado numérico
            document.addEventListener("keydown", function(event) {
                // Obtener el código de la tecla presionada
                var codigoTecla = event.keyCode;
                if (codigoTecla === 46) {
                    // Limpiar el contenido de la consola
                    limpiar();
                    return;
                }
                if (codigoTecla === 8){
                    borrar();
                    return;
                }
                if (codigoTecla === 13 ){
                    principal(document.getElementById('console').innerText);
                    return;
                }
                // Verificar si la tecla presionada está en nuestro mapeo

                if (keyMappings.hasOwnProperty(codigoTecla)) {
                    var valor;
                    // Obtener el valor correspondiente al código de tecla
                    if (codigoTecla === 111){
                        valor = "÷";
                        valor = keyMappings[codigoTecla];
                    }
                    else{
                        valor = keyMappings[codigoTecla];
                    }


                    // Llamar a la función para agregar el valor a la consola
                    appendToConsole(valor);
                }
            });
            function appendToConsole(value) {
                document.getElementById('console').innerText += value;


            }

            xLuIncludeFile();
            var idioma= [ "en", "de", "it", "fr"];
            var language = document.getElementById("language");
            idioma.forEach(function(item) {
                var option = document.createElement("option");
                option.text = item;
                option.value = item.toLowerCase(); // Establecer el valor en minúsculas
                //option.style.backgroundImage = `url("https://upload.wikimedia.org/wikipedia/commons/a/a5/Flag_of_the_United_Kingdom_%281-2%29.svg")`;


                //language.style.backgroundImage = ;

                language.add(option);

            });
            const selectIdioma = document.getElementById('language');

            // Agregar un evento de clic al select
            selectIdioma.addEventListener('change', function() {
                // Obtener el valor seleccionado
                const nuevoIdioma = selectIdioma.value;

                // Llamar a una función para cambiar el idioma
                console.log(nuevoIdioma);
                cambiarIdioma(nuevoIdioma);

            });



    </script>
</body>
</html>